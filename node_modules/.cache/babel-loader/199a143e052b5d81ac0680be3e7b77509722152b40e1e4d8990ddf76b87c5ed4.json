{"ast":null,"code":"/**\r\n * Groq API Service for QuickDiff React App\r\n * Fast, reliable, and free AI API for text analysis\r\n * Get your free API key at: https://console.groq.com/\r\n */\n\nexport class GroqService {\n  constructor() {\n    this.config = {\n      apiKey: process.env.REACT_APP_GROQ_API_KEY || '',\n      // Groq API key from environment\n      baseUrl: 'https://api.groq.com/openai/v1/chat/completions',\n      model: 'llama-3.1-8b-instant',\n      // Fast and reliable model\n      maxTokens: 1000,\n      temperature: 0.7\n    };\n    this.loadConfig();\n  }\n  loadConfig() {\n    try {\n      const savedConfig = localStorage.getItem('quickdiff_groq_config');\n      if (savedConfig) {\n        const parsedConfig = JSON.parse(savedConfig);\n        delete parsedConfig.apiKey; // Don't override API key from environment\n        this.config = {\n          ...this.config,\n          ...parsedConfig\n        };\n      }\n\n      // Ensure environment variable always takes precedence\n      const envApiKey = process.env.REACT_APP_GROQ_API_KEY;\n      if (envApiKey) {\n        this.config.apiKey = envApiKey;\n      }\n    } catch (error) {\n      console.error('Error loading Groq config:', error);\n    }\n  }\n\n  // Check if Groq is properly configured\n  isConfigured() {\n    const hasKey = this.config.apiKey && this.config.apiKey.trim().length > 0;\n    const isValidKey = this.config.apiKey && this.config.apiKey.startsWith('gsk_');\n    const configured = hasKey && isValidKey;\n    console.log('üîç Groq isConfigured check:', {\n      envVar: process.env.REACT_APP_GROQ_API_KEY ? 'Found' : 'Not found',\n      hasApiKey: !!this.config.apiKey,\n      apiKeyLength: this.config.apiKey ? this.config.apiKey.length : 0,\n      apiKeyPreview: this.config.apiKey ? `${this.config.apiKey.substring(0, 10)}...` : 'none',\n      startsWithGsk: isValidKey,\n      configured: configured\n    });\n    return configured;\n  }\n\n  // Call Groq API\n  async callGroqAPI(messages) {\n    console.log('üåê Making Groq API call...');\n    console.log('üîë Using API key:', this.config.apiKey ? `${this.config.apiKey.substring(0, 10)}...` : 'NONE');\n    const response = await fetch(this.config.baseUrl, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${this.config.apiKey}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        model: this.config.model,\n        messages: messages,\n        max_tokens: this.config.maxTokens,\n        temperature: this.config.temperature\n      })\n    });\n    console.log('üì• Response status:', response.status);\n    if (!response.ok) {\n      const error = await response.text();\n      console.error('‚ùå Groq API Error Response:', error);\n      throw new Error(`Groq API error: ${response.status} - ${error}`);\n    }\n    const result = await response.json();\n    console.log('‚úÖ Groq API Success');\n    return result.choices[0].message.content;\n  }\n\n  // Generate analysis using Groq\n  async generateAnalysis(type, originalText, changedText) {\n    console.log('üöÄ generateAnalysis called with type:', type);\n    console.log('üîß isConfigured():', this.isConfigured());\n    if (!this.isConfigured()) {\n      console.log('‚ùå Groq API not configured, throwing error');\n      throw new Error('Groq API not configured. Please set up your API token.');\n    }\n    console.log('‚úÖ Groq API configured, proceeding with analysis...');\n    try {\n      let analysis;\n      switch (type) {\n        case 'explain':\n          analysis = await this.generateExplanation(originalText, changedText);\n          break;\n        case 'rewrite':\n          analysis = await this.generateRewriteSuggestions(originalText, changedText);\n          break;\n        case 'summary':\n          analysis = await this.generateSummary(originalText, changedText);\n          break;\n        case 'tone':\n          analysis = await this.generateToneAnalysis(originalText, changedText);\n          break;\n        case 'cleanup':\n          analysis = await this.generateCleanupAnalysis(originalText, changedText);\n          break;\n        default:\n          analysis = await this.generateExplanation(originalText, changedText);\n      }\n      console.log('‚úÖ Analysis generated successfully');\n      return this.formatResponse(type, analysis);\n    } catch (error) {\n      console.error('‚ùå Groq API Error:', error);\n      throw new Error(`Failed to generate ${type} analysis: ${error.message}`);\n    }\n  }\n\n  // Generate explanation analysis\n  async generateExplanation(originalText, changedText) {\n    console.log('üìù Generating explanation with Groq...');\n    const stats = this.calculateTextStats(originalText, changedText);\n    const messages = [{\n      role: \"system\",\n      content: \"You are an expert text analyst. Analyze the differences between two texts and provide clear, insightful explanations.\"\n    }, {\n      role: \"user\",\n      content: `Compare these two texts and explain the key differences:\n\nOriginal Text: \"${originalText.substring(0, 300)}${originalText.length > 300 ? '...' : ''}\"\n\nChanged Text: \"${changedText.substring(0, 300)}${changedText.length > 300 ? '...' : ''}\"\n\nPlease provide a detailed analysis of the differences, changes in meaning, style, and content structure.`\n    }];\n    try {\n      const aiInsight = await this.callGroqAPI(messages);\n      console.log('‚úÖ Groq explanation received');\n      return `\n        <div class=\"ai-explanation\">\n          <div class=\"ai-header\">\n            <h4>üìä Groq AI Text Analysis</h4>\n          </div>\n          \n          <div class=\"ai-section\">\n            <h5 class=\"section-title\">üìà Text Statistics</h5>\n            <div class=\"stats-grid\">\n              <div class=\"stat-card\">\n                <div class=\"stat-label\">Original Text</div>\n                <div class=\"stat-value\">${stats.originalLines} lines ‚Ä¢ ${stats.originalWords} words ‚Ä¢ ${stats.originalChars} chars</div>\n              </div>\n              <div class=\"stat-card\">\n                <div class=\"stat-label\">Changed Text</div>\n                <div class=\"stat-value\">${stats.changedLines} lines ‚Ä¢ ${stats.changedWords} words ‚Ä¢ ${stats.changedChars} chars</div>\n              </div>\n              <div class=\"stat-card\">\n                <div class=\"stat-label\">Net Changes</div>\n                <div class=\"stat-value\">\n                  ${Math.abs(stats.changedLines - stats.originalLines)} lines ‚Ä¢ \n                  ${Math.abs(stats.changedWords - stats.originalWords)} words ‚Ä¢ \n                  ${Math.abs(stats.changedChars - stats.originalChars)} chars\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          <div class=\"ai-section\">\n            <h5 class=\"section-title\">ü§ñ AI Analysis</h5>\n            <div class=\"ai-insight-box\">\n              ${aiInsight.split('\\n').map(line => line.trim() ? `<p>${line.trim()}</p>` : '').join('')}\n            </div>\n          </div>\n          \n          <div class=\"ai-section\">\n            <h5 class=\"section-title\">üîç Key Findings</h5>\n            <div class=\"findings-list\">\n              ${stats.originalLines !== stats.changedLines ? `<div class=\"finding-item\">üìÑ Line count: ${stats.originalLines} ‚Üí ${stats.changedLines}</div>` : ''}\n              ${stats.originalWords !== stats.changedWords ? `<div class=\"finding-item\">üìù Word count: ${stats.originalWords} ‚Üí ${stats.changedWords}</div>` : ''}\n              ${originalText === changedText ? '<div class=\"finding-item\">‚úÖ No changes detected - texts are identical</div>' : ''}\n              ${Math.abs(stats.changedChars - stats.originalChars) > stats.originalChars * 0.5 ? '<div class=\"finding-item\">‚ö†Ô∏è Significant content change detected (>50%)</div>' : ''}\n              ${Math.abs(stats.changedChars - stats.originalChars) < stats.originalChars * 0.1 ? '<div class=\"finding-item\">‚ú® Minor changes detected (<10%)</div>' : ''}\n            </div>\n          </div>\n        </div>\n      `;\n    } catch (error) {\n      console.error('‚ùå Groq API failed for explanation:', error);\n      throw error;\n    }\n  }\n\n  // Generate rewrite suggestions\n  async generateRewriteSuggestions(originalText, changedText) {\n    console.log('‚ú® Generating rewrite suggestions with Groq...');\n    const combinedText = originalText + ' ' + changedText;\n    const messages = [{\n      role: \"system\",\n      content: \"You are an expert writing coach. Provide specific, actionable suggestions to improve text clarity, style, and readability.\"\n    }, {\n      role: \"user\",\n      content: `Please analyze this text and provide specific rewrite suggestions to improve clarity, style, and readability:\n\n\"${combinedText.substring(0, 400)}${combinedText.length > 400 ? '...' : ''}\"\n\nProvide concrete suggestions for improvement, including specific examples where possible.`\n    }];\n    try {\n      const suggestions = await this.callGroqAPI(messages);\n      console.log('‚úÖ Groq rewrite suggestions received');\n      return `\n        <div class=\"ai-rewrite\">\n          <div class=\"ai-header\">\n            <h4>‚ú® Groq AI Rewrite Suggestions</h4>\n          </div>\n          \n          <div class=\"ai-section\">\n            <h5 class=\"section-title\">üéØ AI-Generated Suggestions</h5>\n            <div class=\"suggestions-box\">\n              ${suggestions.split('\\n').map(line => line.trim() ? `<p>${line.trim()}</p>` : '').join('')}\n            </div>\n          </div>\n          \n          <div class=\"ai-section\">\n            <h5 class=\"section-title\">üìù Writing Best Practices</h5>\n            <div class=\"tips-grid\">\n              <div class=\"tip-item\">\n                <div class=\"tip-icon\">üéØ</div>\n                <div class=\"tip-content\">\n                  <strong>Clarity:</strong> Use clear, concise language and avoid jargon\n                </div>\n              </div>\n              <div class=\"tip-item\">\n                <div class=\"tip-icon\">üìè</div>\n                <div class=\"tip-content\">\n                  <strong>Structure:</strong> Break up long sentences for better readability\n                </div>\n              </div>\n              <div class=\"tip-item\">\n                <div class=\"tip-icon\">üí™</div>\n                <div class=\"tip-content\">\n                  <strong>Voice:</strong> Use active voice when possible\n                </div>\n              </div>\n              <div class=\"tip-item\">\n                <div class=\"tip-icon\">üîÑ</div>\n                <div class=\"tip-content\">\n                  <strong>Consistency:</strong> Ensure consistent terminology throughout\n                </div>\n              </div>\n              <div class=\"tip-item\">\n                <div class=\"tip-icon\">üåä</div>\n                <div class=\"tip-content\">\n                  <strong>Flow:</strong> Add transitional phrases for better flow\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      `;\n    } catch (error) {\n      console.error('‚ùå Groq API failed for rewrite suggestions:', error);\n      throw error;\n    }\n  }\n\n  // Generate summary\n  async generateSummary(originalText, changedText) {\n    console.log('üìÑ Generating summary with Groq...');\n    const combinedText = originalText + '\\n\\n' + changedText;\n    const messages = [{\n      role: \"system\",\n      content: \"You are an expert at creating concise, informative summaries. Focus on the key points and main ideas.\"\n    }, {\n      role: \"user\",\n      content: `Please provide a concise summary of these texts, highlighting the main points and any key differences:\n\n\"${combinedText.substring(0, 500)}${combinedText.length > 500 ? '...' : ''}\"\n\nFocus on the most important information and any significant changes between versions.`\n    }];\n    try {\n      const summary = await this.callGroqAPI(messages);\n      console.log('‚úÖ Groq summary received');\n      return `\n        <div class=\"ai-summary\">\n          <div class=\"ai-header\">\n            <h4>üìù Groq AI Summary</h4>\n          </div>\n          \n          <div class=\"ai-section\">\n            <h5 class=\"section-title\">üìÑ Key Points Summary</h5>\n            <div class=\"summary-box\">\n              ${summary.split('\\n').map(line => line.trim() ? `<p>${line.trim()}</p>` : '').join('')}\n            </div>\n          </div>\n          \n          <div class=\"ai-section\">\n            <h5 class=\"section-title\">üìä Document Overview</h5>\n            <div class=\"overview-stats\">\n              <div class=\"overview-item\">\n                <span class=\"overview-label\">üìè Combined Length:</span>\n                <span class=\"overview-value\">${combinedText.length} characters</span>\n              </div>\n              <div class=\"overview-item\">\n                <span class=\"overview-label\">üîç Analysis Scope:</span>\n                <span class=\"overview-value\">Both original and changed versions</span>\n              </div>\n              <div class=\"overview-item\">\n                <span class=\"overview-label\">üéØ Focus:</span>\n                <span class=\"overview-value\">Main points and key differences</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      `;\n    } catch (error) {\n      console.error('‚ùå Groq API failed for summary:', error);\n      throw error;\n    }\n  }\n\n  // Generate tone analysis\n  async generateToneAnalysis(originalText, changedText) {\n    console.log('üé≠ Generating tone analysis with Groq...');\n    const messages = [{\n      role: \"system\",\n      content: \"You are an expert in linguistic analysis and tone assessment. Analyze the emotional tone, formality level, and overall sentiment of texts.\"\n    }, {\n      role: \"user\",\n      content: `Please analyze the tone and sentiment of these texts:\n\nOriginal Text: \"${originalText.substring(0, 300)}${originalText.length > 300 ? '...' : ''}\"\n\nChanged Text: \"${changedText.substring(0, 300)}${changedText.length > 300 ? '...' : ''}\"\n\nAnalyze: emotional tone, formality level, sentiment, audience appropriateness, and any tone shifts between versions.`\n    }];\n    try {\n      const toneAnalysis = await this.callGroqAPI(messages);\n      console.log('‚úÖ Groq tone analysis received');\n      return `\n        <div class=\"ai-tone\">\n          <h4>üé≠ Groq AI Tone Analysis</h4>\n          <div class=\"tone-analysis\">\n            ${toneAnalysis}\n          </div>\n          \n          <h4>üí° Tone Consistency Tips</h4>\n          <ul>\n            <li>Maintain consistent voice throughout your document</li>\n            <li>Match tone to your purpose and audience</li>\n            <li>Consider cultural context and expectations</li>\n            <li>Balance professionalism with accessibility</li>\n          </ul>\n        </div>\n      `;\n    } catch (error) {\n      console.error('‚ùå Groq API failed for tone analysis:', error);\n      throw error;\n    }\n  }\n\n  // Generate cleanup analysis\n  async generateCleanupAnalysis(originalText, changedText) {\n    console.log('üßπ Generating cleanup analysis with Groq...');\n    const combinedText = originalText + '\\n' + changedText;\n    const messages = [{\n      role: \"system\",\n      content: \"You are an expert editor focused on text cleanup and formatting. Identify formatting issues, inconsistencies, and areas for improvement.\"\n    }, {\n      role: \"user\",\n      content: `Please analyze this text for formatting issues, inconsistencies, and cleanup opportunities:\n\n\"${combinedText.substring(0, 400)}${combinedText.length > 400 ? '...' : ''}\"\n\nLook for: spacing issues, punctuation problems, inconsistent formatting, redundant phrases, and other cleanup opportunities.`\n    }];\n    try {\n      const cleanupAnalysis = await this.callGroqAPI(messages);\n      console.log('‚úÖ Groq cleanup analysis received');\n      return `\n        <div class=\"ai-cleanup\">\n          <h4>üßπ Groq AI Text Cleanup Analysis</h4>\n          <div class=\"cleanup-analysis\">\n            ${cleanupAnalysis}\n          </div>\n          \n          <h4>‚ú® General Cleanup Tips</h4>\n          <ul>\n            <li>Remove trailing whitespace at line ends</li>\n            <li>Standardize line break usage</li>\n            <li>Fix inconsistent punctuation</li>\n            <li>Normalize quotation marks</li>\n            <li>Remove unnecessary special characters</li>\n          </ul>\n        </div>\n      `;\n    } catch (error) {\n      console.error('‚ùå Groq API failed for cleanup analysis:', error);\n      throw error;\n    }\n  }\n\n  // Helper methods\n  calculateTextStats(originalText, changedText) {\n    return {\n      originalLines: originalText.split('\\n').length,\n      changedLines: changedText.split('\\n').length,\n      originalWords: originalText.split(/\\s+/).filter(w => w.length > 0).length,\n      changedWords: changedText.split(/\\s+/).filter(w => w.length > 0).length,\n      originalChars: originalText.length,\n      changedChars: changedText.length\n    };\n  }\n\n  // Format the response into the expected structure\n  formatResponse(type, content) {\n    const typeIcons = {\n      explain: 'üß†',\n      rewrite: '‚ú®',\n      summary: 'üìù',\n      tone: 'üé≠',\n      cleanup: 'üßπ'\n    };\n    const typeTitles = {\n      explain: 'Groq AI Explanation',\n      rewrite: 'Groq AI Rewrite Suggestions',\n      summary: 'Groq AI Summary',\n      tone: 'Groq AI Tone Analysis',\n      cleanup: 'Groq AI Text Cleanup'\n    };\n    return {\n      title: `${typeIcons[type] || 'ü§ñ'} ${typeTitles[type] || 'Groq AI Analysis'}`,\n      content: content,\n      type: type\n    };\n  }\n\n  // Test the Groq connection\n  async testConnection() {\n    console.log('Testing Groq connection...');\n    console.log('API Key configured:', this.isConfigured());\n    if (!this.isConfigured()) {\n      return {\n        success: false,\n        error: 'API key not configured'\n      };\n    }\n    try {\n      const result = await this.callGroqAPI([{\n        role: \"user\",\n        content: \"Say 'Hello, Groq API is working!' in a friendly way.\"\n      }]);\n      console.log('API test result:', result);\n      return {\n        success: true,\n        response: result\n      };\n    } catch (error) {\n      console.error('API test failed:', error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n\n  // Debug method\n  debugConfig() {\n    console.log('=== Groq Debug Info ===');\n    console.log('Environment API Key:', process.env.REACT_APP_GROQ_API_KEY ? 'Found' : 'Not found');\n    console.log('Config API Key:', this.config.apiKey ? 'Found' : 'Not found');\n    console.log('Is Configured:', this.isConfigured());\n    console.log('Base URL:', this.config.baseUrl);\n    console.log('Model:', this.config.model);\n    console.log('======================');\n  }\n}","map":{"version":3,"names":["GroqService","constructor","config","apiKey","process","env","REACT_APP_GROQ_API_KEY","baseUrl","model","maxTokens","temperature","loadConfig","savedConfig","localStorage","getItem","parsedConfig","JSON","parse","envApiKey","error","console","isConfigured","hasKey","trim","length","isValidKey","startsWith","configured","log","envVar","hasApiKey","apiKeyLength","apiKeyPreview","substring","startsWithGsk","callGroqAPI","messages","response","fetch","method","headers","body","stringify","max_tokens","status","ok","text","Error","result","json","choices","message","content","generateAnalysis","type","originalText","changedText","analysis","generateExplanation","generateRewriteSuggestions","generateSummary","generateToneAnalysis","generateCleanupAnalysis","formatResponse","stats","calculateTextStats","role","aiInsight","originalLines","originalWords","originalChars","changedLines","changedWords","changedChars","Math","abs","split","map","line","join","combinedText","suggestions","summary","toneAnalysis","cleanupAnalysis","filter","w","typeIcons","explain","rewrite","tone","cleanup","typeTitles","title","testConnection","success","debugConfig"],"sources":["C:/Users/Joem/quickdiff-react/src/utils/GroqService.js"],"sourcesContent":["/**\r\n * Groq API Service for QuickDiff React App\r\n * Fast, reliable, and free AI API for text analysis\r\n * Get your free API key at: https://console.groq.com/\r\n */\r\n\r\nexport class GroqService {\r\n  constructor() {\r\n    this.config = {\r\n      apiKey: process.env.REACT_APP_GROQ_API_KEY || '', // Groq API key from environment\r\n      baseUrl: 'https://api.groq.com/openai/v1/chat/completions',\r\n      model: 'llama-3.1-8b-instant', // Fast and reliable model\r\n      maxTokens: 1000,\r\n      temperature: 0.7\r\n    };\r\n    \r\n    this.loadConfig();\r\n  }\r\n\r\n  loadConfig() {\r\n    try {\r\n      const savedConfig = localStorage.getItem('quickdiff_groq_config');\r\n      if (savedConfig) {\r\n        const parsedConfig = JSON.parse(savedConfig);\r\n        delete parsedConfig.apiKey; // Don't override API key from environment\r\n        this.config = { ...this.config, ...parsedConfig };\r\n      }\r\n      \r\n      // Ensure environment variable always takes precedence\r\n      const envApiKey = process.env.REACT_APP_GROQ_API_KEY;\r\n      if (envApiKey) {\r\n        this.config.apiKey = envApiKey;\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading Groq config:', error);\r\n    }\r\n  }\r\n\r\n  // Check if Groq is properly configured\r\n  isConfigured() {\r\n    const hasKey = this.config.apiKey && this.config.apiKey.trim().length > 0;\r\n    const isValidKey = this.config.apiKey && this.config.apiKey.startsWith('gsk_');\r\n    const configured = hasKey && isValidKey;\r\n    \r\n    console.log('üîç Groq isConfigured check:', {\r\n      envVar: process.env.REACT_APP_GROQ_API_KEY ? 'Found' : 'Not found',\r\n      hasApiKey: !!this.config.apiKey,\r\n      apiKeyLength: this.config.apiKey ? this.config.apiKey.length : 0,\r\n      apiKeyPreview: this.config.apiKey ? `${this.config.apiKey.substring(0, 10)}...` : 'none',\r\n      startsWithGsk: isValidKey,\r\n      configured: configured\r\n    });\r\n    return configured;\r\n  }\r\n\r\n  // Call Groq API\r\n  async callGroqAPI(messages) {\r\n    console.log('üåê Making Groq API call...');\r\n    console.log('üîë Using API key:', this.config.apiKey ? `${this.config.apiKey.substring(0, 10)}...` : 'NONE');\r\n    \r\n    const response = await fetch(this.config.baseUrl, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Authorization': `Bearer ${this.config.apiKey}`,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        model: this.config.model,\r\n        messages: messages,\r\n        max_tokens: this.config.maxTokens,\r\n        temperature: this.config.temperature\r\n      })\r\n    });\r\n\r\n    console.log('üì• Response status:', response.status);\r\n\r\n    if (!response.ok) {\r\n      const error = await response.text();\r\n      console.error('‚ùå Groq API Error Response:', error);\r\n      throw new Error(`Groq API error: ${response.status} - ${error}`);\r\n    }\r\n\r\n    const result = await response.json();\r\n    console.log('‚úÖ Groq API Success');\r\n    return result.choices[0].message.content;\r\n  }\r\n\r\n  // Generate analysis using Groq\r\n  async generateAnalysis(type, originalText, changedText) {\r\n    console.log('üöÄ generateAnalysis called with type:', type);\r\n    console.log('üîß isConfigured():', this.isConfigured());\r\n    \r\n    if (!this.isConfigured()) {\r\n      console.log('‚ùå Groq API not configured, throwing error');\r\n      throw new Error('Groq API not configured. Please set up your API token.');\r\n    }\r\n\r\n    console.log('‚úÖ Groq API configured, proceeding with analysis...');\r\n    try {\r\n      let analysis;\r\n      switch (type) {\r\n        case 'explain':\r\n          analysis = await this.generateExplanation(originalText, changedText);\r\n          break;\r\n        case 'rewrite':\r\n          analysis = await this.generateRewriteSuggestions(originalText, changedText);\r\n          break;\r\n        case 'summary':\r\n          analysis = await this.generateSummary(originalText, changedText);\r\n          break;\r\n        case 'tone':\r\n          analysis = await this.generateToneAnalysis(originalText, changedText);\r\n          break;\r\n        case 'cleanup':\r\n          analysis = await this.generateCleanupAnalysis(originalText, changedText);\r\n          break;\r\n        default:\r\n          analysis = await this.generateExplanation(originalText, changedText);\r\n      }\r\n      \r\n      console.log('‚úÖ Analysis generated successfully');\r\n      return this.formatResponse(type, analysis);\r\n    } catch (error) {\r\n      console.error('‚ùå Groq API Error:', error);\r\n      throw new Error(`Failed to generate ${type} analysis: ${error.message}`);\r\n    }\r\n  }\r\n\r\n  // Generate explanation analysis\r\n  async generateExplanation(originalText, changedText) {\r\n    console.log('üìù Generating explanation with Groq...');\r\n    const stats = this.calculateTextStats(originalText, changedText);\r\n    \r\n    const messages = [\r\n      {\r\n        role: \"system\",\r\n        content: \"You are an expert text analyst. Analyze the differences between two texts and provide clear, insightful explanations.\"\r\n      },\r\n      {\r\n        role: \"user\",\r\n        content: `Compare these two texts and explain the key differences:\r\n\r\nOriginal Text: \"${originalText.substring(0, 300)}${originalText.length > 300 ? '...' : ''}\"\r\n\r\nChanged Text: \"${changedText.substring(0, 300)}${changedText.length > 300 ? '...' : ''}\"\r\n\r\nPlease provide a detailed analysis of the differences, changes in meaning, style, and content structure.`\r\n      }\r\n    ];\r\n\r\n    try {\r\n      const aiInsight = await this.callGroqAPI(messages);\r\n      console.log('‚úÖ Groq explanation received');\r\n      \r\n      return `\r\n        <div class=\"ai-explanation\">\r\n          <div class=\"ai-header\">\r\n            <h4>üìä Groq AI Text Analysis</h4>\r\n          </div>\r\n          \r\n          <div class=\"ai-section\">\r\n            <h5 class=\"section-title\">üìà Text Statistics</h5>\r\n            <div class=\"stats-grid\">\r\n              <div class=\"stat-card\">\r\n                <div class=\"stat-label\">Original Text</div>\r\n                <div class=\"stat-value\">${stats.originalLines} lines ‚Ä¢ ${stats.originalWords} words ‚Ä¢ ${stats.originalChars} chars</div>\r\n              </div>\r\n              <div class=\"stat-card\">\r\n                <div class=\"stat-label\">Changed Text</div>\r\n                <div class=\"stat-value\">${stats.changedLines} lines ‚Ä¢ ${stats.changedWords} words ‚Ä¢ ${stats.changedChars} chars</div>\r\n              </div>\r\n              <div class=\"stat-card\">\r\n                <div class=\"stat-label\">Net Changes</div>\r\n                <div class=\"stat-value\">\r\n                  ${Math.abs(stats.changedLines - stats.originalLines)} lines ‚Ä¢ \r\n                  ${Math.abs(stats.changedWords - stats.originalWords)} words ‚Ä¢ \r\n                  ${Math.abs(stats.changedChars - stats.originalChars)} chars\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"ai-section\">\r\n            <h5 class=\"section-title\">ü§ñ AI Analysis</h5>\r\n            <div class=\"ai-insight-box\">\r\n              ${aiInsight.split('\\n').map(line => line.trim() ? `<p>${line.trim()}</p>` : '').join('')}\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"ai-section\">\r\n            <h5 class=\"section-title\">üîç Key Findings</h5>\r\n            <div class=\"findings-list\">\r\n              ${stats.originalLines !== stats.changedLines ? `<div class=\"finding-item\">üìÑ Line count: ${stats.originalLines} ‚Üí ${stats.changedLines}</div>` : ''}\r\n              ${stats.originalWords !== stats.changedWords ? `<div class=\"finding-item\">üìù Word count: ${stats.originalWords} ‚Üí ${stats.changedWords}</div>` : ''}\r\n              ${originalText === changedText ? '<div class=\"finding-item\">‚úÖ No changes detected - texts are identical</div>' : ''}\r\n              ${Math.abs(stats.changedChars - stats.originalChars) > stats.originalChars * 0.5 ? '<div class=\"finding-item\">‚ö†Ô∏è Significant content change detected (>50%)</div>' : ''}\r\n              ${Math.abs(stats.changedChars - stats.originalChars) < stats.originalChars * 0.1 ? '<div class=\"finding-item\">‚ú® Minor changes detected (<10%)</div>' : ''}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      `;\r\n    } catch (error) {\r\n      console.error('‚ùå Groq API failed for explanation:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Generate rewrite suggestions\r\n  async generateRewriteSuggestions(originalText, changedText) {\r\n    console.log('‚ú® Generating rewrite suggestions with Groq...');\r\n    const combinedText = originalText + ' ' + changedText;\r\n    \r\n    const messages = [\r\n      {\r\n        role: \"system\",\r\n        content: \"You are an expert writing coach. Provide specific, actionable suggestions to improve text clarity, style, and readability.\"\r\n      },\r\n      {\r\n        role: \"user\",\r\n        content: `Please analyze this text and provide specific rewrite suggestions to improve clarity, style, and readability:\r\n\r\n\"${combinedText.substring(0, 400)}${combinedText.length > 400 ? '...' : ''}\"\r\n\r\nProvide concrete suggestions for improvement, including specific examples where possible.`\r\n      }\r\n    ];\r\n\r\n    try {\r\n      const suggestions = await this.callGroqAPI(messages);\r\n      console.log('‚úÖ Groq rewrite suggestions received');\r\n      \r\n      return `\r\n        <div class=\"ai-rewrite\">\r\n          <div class=\"ai-header\">\r\n            <h4>‚ú® Groq AI Rewrite Suggestions</h4>\r\n          </div>\r\n          \r\n          <div class=\"ai-section\">\r\n            <h5 class=\"section-title\">üéØ AI-Generated Suggestions</h5>\r\n            <div class=\"suggestions-box\">\r\n              ${suggestions.split('\\n').map(line => line.trim() ? `<p>${line.trim()}</p>` : '').join('')}\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"ai-section\">\r\n            <h5 class=\"section-title\">üìù Writing Best Practices</h5>\r\n            <div class=\"tips-grid\">\r\n              <div class=\"tip-item\">\r\n                <div class=\"tip-icon\">üéØ</div>\r\n                <div class=\"tip-content\">\r\n                  <strong>Clarity:</strong> Use clear, concise language and avoid jargon\r\n                </div>\r\n              </div>\r\n              <div class=\"tip-item\">\r\n                <div class=\"tip-icon\">üìè</div>\r\n                <div class=\"tip-content\">\r\n                  <strong>Structure:</strong> Break up long sentences for better readability\r\n                </div>\r\n              </div>\r\n              <div class=\"tip-item\">\r\n                <div class=\"tip-icon\">üí™</div>\r\n                <div class=\"tip-content\">\r\n                  <strong>Voice:</strong> Use active voice when possible\r\n                </div>\r\n              </div>\r\n              <div class=\"tip-item\">\r\n                <div class=\"tip-icon\">üîÑ</div>\r\n                <div class=\"tip-content\">\r\n                  <strong>Consistency:</strong> Ensure consistent terminology throughout\r\n                </div>\r\n              </div>\r\n              <div class=\"tip-item\">\r\n                <div class=\"tip-icon\">üåä</div>\r\n                <div class=\"tip-content\">\r\n                  <strong>Flow:</strong> Add transitional phrases for better flow\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      `;\r\n    } catch (error) {\r\n      console.error('‚ùå Groq API failed for rewrite suggestions:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Generate summary\r\n  async generateSummary(originalText, changedText) {\r\n    console.log('üìÑ Generating summary with Groq...');\r\n    const combinedText = originalText + '\\n\\n' + changedText;\r\n    \r\n    const messages = [\r\n      {\r\n        role: \"system\",\r\n        content: \"You are an expert at creating concise, informative summaries. Focus on the key points and main ideas.\"\r\n      },\r\n      {\r\n        role: \"user\",\r\n        content: `Please provide a concise summary of these texts, highlighting the main points and any key differences:\r\n\r\n\"${combinedText.substring(0, 500)}${combinedText.length > 500 ? '...' : ''}\"\r\n\r\nFocus on the most important information and any significant changes between versions.`\r\n      }\r\n    ];\r\n\r\n    try {\r\n      const summary = await this.callGroqAPI(messages);\r\n      console.log('‚úÖ Groq summary received');\r\n      \r\n      return `\r\n        <div class=\"ai-summary\">\r\n          <div class=\"ai-header\">\r\n            <h4>üìù Groq AI Summary</h4>\r\n          </div>\r\n          \r\n          <div class=\"ai-section\">\r\n            <h5 class=\"section-title\">üìÑ Key Points Summary</h5>\r\n            <div class=\"summary-box\">\r\n              ${summary.split('\\n').map(line => line.trim() ? `<p>${line.trim()}</p>` : '').join('')}\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"ai-section\">\r\n            <h5 class=\"section-title\">üìä Document Overview</h5>\r\n            <div class=\"overview-stats\">\r\n              <div class=\"overview-item\">\r\n                <span class=\"overview-label\">üìè Combined Length:</span>\r\n                <span class=\"overview-value\">${combinedText.length} characters</span>\r\n              </div>\r\n              <div class=\"overview-item\">\r\n                <span class=\"overview-label\">üîç Analysis Scope:</span>\r\n                <span class=\"overview-value\">Both original and changed versions</span>\r\n              </div>\r\n              <div class=\"overview-item\">\r\n                <span class=\"overview-label\">üéØ Focus:</span>\r\n                <span class=\"overview-value\">Main points and key differences</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      `;\r\n    } catch (error) {\r\n      console.error('‚ùå Groq API failed for summary:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Generate tone analysis\r\n  async generateToneAnalysis(originalText, changedText) {\r\n    console.log('üé≠ Generating tone analysis with Groq...');\r\n    \r\n    const messages = [\r\n      {\r\n        role: \"system\",\r\n        content: \"You are an expert in linguistic analysis and tone assessment. Analyze the emotional tone, formality level, and overall sentiment of texts.\"\r\n      },\r\n      {\r\n        role: \"user\",\r\n        content: `Please analyze the tone and sentiment of these texts:\r\n\r\nOriginal Text: \"${originalText.substring(0, 300)}${originalText.length > 300 ? '...' : ''}\"\r\n\r\nChanged Text: \"${changedText.substring(0, 300)}${changedText.length > 300 ? '...' : ''}\"\r\n\r\nAnalyze: emotional tone, formality level, sentiment, audience appropriateness, and any tone shifts between versions.`\r\n      }\r\n    ];\r\n\r\n    try {\r\n      const toneAnalysis = await this.callGroqAPI(messages);\r\n      console.log('‚úÖ Groq tone analysis received');\r\n      \r\n      return `\r\n        <div class=\"ai-tone\">\r\n          <h4>üé≠ Groq AI Tone Analysis</h4>\r\n          <div class=\"tone-analysis\">\r\n            ${toneAnalysis}\r\n          </div>\r\n          \r\n          <h4>üí° Tone Consistency Tips</h4>\r\n          <ul>\r\n            <li>Maintain consistent voice throughout your document</li>\r\n            <li>Match tone to your purpose and audience</li>\r\n            <li>Consider cultural context and expectations</li>\r\n            <li>Balance professionalism with accessibility</li>\r\n          </ul>\r\n        </div>\r\n      `;\r\n    } catch (error) {\r\n      console.error('‚ùå Groq API failed for tone analysis:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Generate cleanup analysis\r\n  async generateCleanupAnalysis(originalText, changedText) {\r\n    console.log('üßπ Generating cleanup analysis with Groq...');\r\n    const combinedText = originalText + '\\n' + changedText;\r\n    \r\n    const messages = [\r\n      {\r\n        role: \"system\",\r\n        content: \"You are an expert editor focused on text cleanup and formatting. Identify formatting issues, inconsistencies, and areas for improvement.\"\r\n      },\r\n      {\r\n        role: \"user\",\r\n        content: `Please analyze this text for formatting issues, inconsistencies, and cleanup opportunities:\r\n\r\n\"${combinedText.substring(0, 400)}${combinedText.length > 400 ? '...' : ''}\"\r\n\r\nLook for: spacing issues, punctuation problems, inconsistent formatting, redundant phrases, and other cleanup opportunities.`\r\n      }\r\n    ];\r\n\r\n    try {\r\n      const cleanupAnalysis = await this.callGroqAPI(messages);\r\n      console.log('‚úÖ Groq cleanup analysis received');\r\n      \r\n      return `\r\n        <div class=\"ai-cleanup\">\r\n          <h4>üßπ Groq AI Text Cleanup Analysis</h4>\r\n          <div class=\"cleanup-analysis\">\r\n            ${cleanupAnalysis}\r\n          </div>\r\n          \r\n          <h4>‚ú® General Cleanup Tips</h4>\r\n          <ul>\r\n            <li>Remove trailing whitespace at line ends</li>\r\n            <li>Standardize line break usage</li>\r\n            <li>Fix inconsistent punctuation</li>\r\n            <li>Normalize quotation marks</li>\r\n            <li>Remove unnecessary special characters</li>\r\n          </ul>\r\n        </div>\r\n      `;\r\n    } catch (error) {\r\n      console.error('‚ùå Groq API failed for cleanup analysis:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Helper methods\r\n  calculateTextStats(originalText, changedText) {\r\n    return {\r\n      originalLines: originalText.split('\\n').length,\r\n      changedLines: changedText.split('\\n').length,\r\n      originalWords: originalText.split(/\\s+/).filter(w => w.length > 0).length,\r\n      changedWords: changedText.split(/\\s+/).filter(w => w.length > 0).length,\r\n      originalChars: originalText.length,\r\n      changedChars: changedText.length\r\n    };\r\n  }\r\n\r\n  // Format the response into the expected structure\r\n  formatResponse(type, content) {\r\n    const typeIcons = {\r\n      explain: 'üß†',\r\n      rewrite: '‚ú®',\r\n      summary: 'üìù',\r\n      tone: 'üé≠',\r\n      cleanup: 'üßπ'\r\n    };\r\n\r\n    const typeTitles = {\r\n      explain: 'Groq AI Explanation',\r\n      rewrite: 'Groq AI Rewrite Suggestions',\r\n      summary: 'Groq AI Summary',\r\n      tone: 'Groq AI Tone Analysis',\r\n      cleanup: 'Groq AI Text Cleanup'\r\n    };\r\n\r\n    return {\r\n      title: `${typeIcons[type] || 'ü§ñ'} ${typeTitles[type] || 'Groq AI Analysis'}`,\r\n      content: content,\r\n      type: type\r\n    };\r\n  }\r\n\r\n  // Test the Groq connection\r\n  async testConnection() {\r\n    console.log('Testing Groq connection...');\r\n    console.log('API Key configured:', this.isConfigured());\r\n    \r\n    if (!this.isConfigured()) {\r\n      return { success: false, error: 'API key not configured' };\r\n    }\r\n    \r\n    try {\r\n      const result = await this.callGroqAPI([\r\n        { role: \"user\", content: \"Say 'Hello, Groq API is working!' in a friendly way.\" }\r\n      ]);\r\n      console.log('API test result:', result);\r\n      return { success: true, response: result };\r\n    } catch (error) {\r\n      console.error('API test failed:', error);\r\n      return { success: false, error: error.message };\r\n    }\r\n  }\r\n\r\n  // Debug method\r\n  debugConfig() {\r\n    console.log('=== Groq Debug Info ===');\r\n    console.log('Environment API Key:', process.env.REACT_APP_GROQ_API_KEY ? 'Found' : 'Not found');\r\n    console.log('Config API Key:', this.config.apiKey ? 'Found' : 'Not found');\r\n    console.log('Is Configured:', this.isConfigured());\r\n    console.log('Base URL:', this.config.baseUrl);\r\n    console.log('Model:', this.config.model);\r\n    console.log('======================');\r\n  }\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}