{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Joem\\\\quickdiff-react\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport './App.css';\nimport './user-guide.css';\nimport Header from './components/Header';\nimport SettingsPanel from './components/SettingsPanel';\nimport InputSection from './components/InputSection';\nimport Controls from './components/Controls';\nimport Legend from './components/Legend';\nimport Results from './components/Results';\nimport ReactUserGuide from './user-guide.js';\nimport { DiffEngine } from './utils/DiffEngine';\nimport { ExportUtils } from './utils/ExportUtils';\nimport { GroqService } from './utils/GroqService';\nimport { LanguageDetector } from './utils/LanguageDetector';\nimport { NotificationProvider, useNotification } from './components/NotificationProvider';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction QuickDiffApp() {\n  _s();\n  // State management\n  const [originalText, setOriginalText] = useState('');\n  const [changedText, setChangedText] = useState('');\n  const [diffResult, setDiffResult] = useState(null);\n  const [showResults, setShowResults] = useState(false);\n  const [theme, setTheme] = useState('light');\n  const [contrast, setContrast] = useState('normal');\n\n  // Settings state\n  const [settings, setSettings] = useState({\n    diffMode: 'line',\n    viewMode: 'side-by-side',\n    language: 'plaintext',\n    autoDetectLanguage: true,\n    ignoreCase: false,\n    ignoreWhitespace: false,\n    ignorePunctuation: false,\n    livePreview: false\n  });\n\n  // Language detection state\n  const [detectedLanguage, setDetectedLanguage] = useState({\n    language: 'plaintext',\n    confidence: 'low',\n    method: 'default'\n  });\n\n  // AI state\n  const [aiResults, setAiResults] = useState([]);\n  const [showAiResults, setShowAiResults] = useState(false);\n  const [isGeneratingAI, setIsGeneratingAI] = useState(false);\n\n  // Navigation state\n  const [changes, setChanges] = useState([]);\n  const [currentChangeIndex, setCurrentChangeIndex] = useState(-1);\n  const [minimapVisible, setMinimapVisible] = useState(false);\n\n  // Initialize user guide\n  useEffect(() => {\n    new ReactUserGuide();\n  }, []);\n\n  // Refs\n  const debounceTimer = useRef(null);\n  const diffEngine = useRef(new DiffEngine());\n  const exportUtils = useRef(new ExportUtils());\n  const groqService = useRef(new GroqService());\n  const languageDetector = useRef(new LanguageDetector());\n  const {\n    showNotification\n  } = useNotification();\n\n  // Settings management functions (defined early to avoid hoisting issues)\n  const loadSettings = () => {\n    try {\n      const savedSettings = localStorage.getItem('quickdiff_react_settings');\n      if (savedSettings) {\n        setSettings(prev => ({\n          ...prev,\n          ...JSON.parse(savedSettings)\n        }));\n      }\n    } catch (error) {\n      console.error('Error loading settings:', error);\n    }\n  };\n  const saveSettings = useCallback(() => {\n    try {\n      localStorage.setItem('quickdiff_react_settings', JSON.stringify(settings));\n    } catch (error) {\n      console.error('Error saving settings:', error);\n    }\n  }, [settings]);\n  const loadTheme = () => {\n    const savedTheme = localStorage.getItem('quickdiff_theme') || 'light';\n    const savedContrast = localStorage.getItem('quickdiff_contrast') || 'normal';\n    setTheme(savedTheme);\n    setContrast(savedContrast);\n    document.documentElement.setAttribute('data-theme', savedTheme);\n    document.documentElement.setAttribute('data-contrast', savedContrast);\n  };\n\n  // Load settings and theme on mount\n  useEffect(() => {\n    loadSettings();\n    loadTheme();\n\n    // Debug AI API configurations\n    console.log('=== QuickDiff App Debug ===');\n    console.log('Environment variables check:');\n    console.log('REACT_APP_GROQ_API_KEY:', process.env.REACT_APP_GROQ_API_KEY ? 'Found' : 'Not found');\n    console.log('REACT_APP_HUGGINGFACE_API_KEY:', process.env.REACT_APP_HUGGINGFACE_API_KEY ? 'Found' : 'Not found');\n    if (groqService.current) {\n      groqService.current.debugConfig();\n\n      // Make Groq service available globally for testing\n      window.testGroq = async () => {\n        console.log('🧪 Testing Groq API...');\n        try {\n          const result = await groqService.current.testConnection();\n          console.log('🧪 Test result:', result);\n          return result;\n        } catch (error) {\n          console.error('🧪 Test failed:', error);\n          return {\n            success: false,\n            error: error.message\n          };\n        }\n      };\n      console.log('💡 You can test Groq API by running: testGroq() in console');\n    }\n    if (hfService.current) {\n      hfService.current.debugConfig();\n\n      // Make HF service available globally for testing\n      window.testHF = async () => {\n        console.log('🧪 Testing Hugging Face API...');\n        try {\n          const result = await hfService.current.testConnection();\n          console.log('🧪 Test result:', result);\n          return result;\n        } catch (error) {\n          console.error('🧪 Test failed:', error);\n          return {\n            success: false,\n            error: error.message\n          };\n        }\n      };\n      console.log('💡 You can test HF API by running: testHF() in console');\n    }\n    console.log('========================');\n  }, []);\n\n  // Auto-save settings when they change\n  useEffect(() => {\n    saveSettings();\n  }, [settings, saveSettings]);\n\n  // Collect changes for navigation (defined early to avoid hoisting issues)\n  const collectChanges = useCallback(result => {\n    if (!result) return;\n    const newChanges = [];\n\n    // Extract changes from originalLines (DiffEngine returns originalLines and changedLines)\n    if (result.originalLines) {\n      result.originalLines.forEach((line, index) => {\n        if (line.type && line.type !== 'unchanged' && line.type !== '') {\n          newChanges.push({\n            lineNumber: index + 1,\n            type: line.type,\n            content: line.content || '',\n            originalLineNumber: index + 1,\n            changedLineNumber: index + 1\n          });\n        }\n      });\n    }\n\n    // Also check changedLines for additional changes (like added lines)\n    if (result.changedLines) {\n      result.changedLines.forEach((line, index) => {\n        if (line.type && line.type !== 'unchanged' && line.type !== '') {\n          // Avoid duplicates by checking if we already have this change\n          const exists = newChanges.some(change => change.lineNumber === index + 1 && change.type === line.type);\n          if (!exists) {\n            newChanges.push({\n              lineNumber: index + 1,\n              type: line.type,\n              content: line.content || '',\n              originalLineNumber: index + 1,\n              changedLineNumber: index + 1\n            });\n          }\n        }\n      });\n    }\n\n    // Sort changes by line number\n    newChanges.sort((a, b) => a.lineNumber - b.lineNumber);\n    console.log('Collected Changes:', newChanges); // Debug log\n    setChanges(newChanges);\n    setCurrentChangeIndex(newChanges.length > 0 ? 0 : -1);\n    if (newChanges.length > 0) {\n      showNotification(`Found ${newChanges.length} changes`);\n    } else {\n      showNotification('No changes detected');\n    }\n  }, [showNotification]);\n\n  // Main comparison function (defined early to avoid hoisting issues)\n  const performComparison = useCallback(() => {\n    if (!originalText.trim() && !changedText.trim()) {\n      showNotification('Please enter some text to compare');\n      return;\n    }\n    try {\n      const result = diffEngine.current.performComparison(originalText, changedText, settings);\n      console.log('Diff Result:', result); // Debug log\n      setDiffResult(result);\n      setShowResults(true);\n      collectChanges(result);\n\n      // Auto-generate AI analysis is disabled to prevent duplicate results\n      // Users can manually trigger AI analysis using the AI buttons\n\n      // Auto-scroll to results only if live preview is disabled\n      if (!settings.livePreview) {\n        setTimeout(() => {\n          const resultsElement = document.getElementById('results-section');\n          if (resultsElement) {\n            resultsElement.scrollIntoView({\n              behavior: 'smooth',\n              block: 'start'\n            });\n          }\n        }, 100);\n      }\n      showNotification('Comparison completed');\n    } catch (error) {\n      console.error('Comparison error:', error);\n      showNotification('Error performing comparison');\n    }\n  }, [originalText, changedText, settings, showNotification, collectChanges]);\n\n  // Theme management\n  const toggleTheme = () => {\n    const newTheme = theme === 'light' ? 'dark' : 'light';\n    setTheme(newTheme);\n    localStorage.setItem('quickdiff_theme', newTheme);\n    document.documentElement.setAttribute('data-theme', newTheme);\n    showNotification(`Switched to ${newTheme} theme`);\n  };\n  const toggleContrast = () => {\n    const newContrast = contrast === 'normal' ? 'high' : 'normal';\n    setContrast(newContrast);\n    localStorage.setItem('quickdiff_contrast', newContrast);\n    document.documentElement.setAttribute('data-contrast', newContrast);\n    showNotification(`${newContrast === 'high' ? 'Enabled' : 'Disabled'} high contrast mode`);\n  };\n\n  // Text manipulation functions\n  const clearAll = () => {\n    setOriginalText('');\n    setChangedText('');\n    setShowResults(false);\n    setDiffResult(null);\n    setAiResults([]);\n    setShowAiResults(false);\n    showNotification('All content cleared');\n  };\n  const swapTexts = () => {\n    const temp = originalText;\n    setOriginalText(changedText);\n    setChangedText(temp);\n    showNotification('Texts swapped');\n    if (settings.livePreview && (originalText.trim() || changedText.trim())) {\n      performComparison();\n    }\n  };\n\n  // File handling\n  const handleFileLoad = (file, target) => {\n    const reader = new FileReader();\n    reader.onload = e => {\n      const content = e.target.result;\n      if (target === 'original') {\n        setOriginalText(content);\n      } else {\n        setChangedText(content);\n      }\n\n      // Auto-detect language from filename if enabled\n      if (settings.autoDetectLanguage) {\n        const detection = languageDetector.current.autoDetect(content, file.name);\n        setDetectedLanguage(detection);\n        if (detection.language !== 'plaintext') {\n          setSettings(prev => ({\n            ...prev,\n            language: detection.language\n          }));\n        }\n        showNotification(`File loaded: ${file.name}`);\n      } else {\n        showNotification(`File loaded: ${file.name}`);\n      }\n    };\n    reader.readAsText(file);\n  };\n\n  // Export functions\n  const copyResults = () => {\n    exportUtils.current.copyResults(originalText, changedText, aiResults).then(() => showNotification('Results copied to clipboard')).catch(() => showNotification('Failed to copy results'));\n  };\n  const exportToTxt = () => {\n    exportUtils.current.exportToTxt(originalText, changedText, diffResult, aiResults);\n    showNotification('Exported as TXT file');\n  };\n  const exportToHtml = () => {\n    exportUtils.current.exportToHtml(originalText, changedText, diffResult, aiResults);\n    showNotification('Exported as HTML file');\n  };\n  const exportToMarkdown = () => {\n    exportUtils.current.exportToMarkdown(originalText, changedText, diffResult, aiResults);\n    showNotification('Exported as Markdown file');\n  };\n  const exportToPdf = () => {\n    exportUtils.current.exportToPdf(originalText, changedText, diffResult, aiResults);\n    showNotification('Exported as PDF file');\n  };\n\n  // AI functions\n  const generateAIAnalysis = async type => {\n    if (!originalText.trim() && !changedText.trim()) {\n      showNotification('Please enter some text to analyze');\n      return;\n    }\n\n    // Check if this analysis type already exists to prevent duplicates\n    const existingAnalysis = aiResults.find(result => result.type === type);\n    if (existingAnalysis) {\n      showNotification(`${type} analysis already exists. Clear AI results first to regenerate.`);\n      return;\n    }\n    setIsGeneratingAI(true);\n    try {\n      if (groqService.current.isConfigured()) {\n        // Use Groq API when configured (PREFERRED)\n        showNotification('Generating AI analysis with Groq...');\n        const analysis = await groqService.current.generateAnalysis(type, originalText, changedText);\n        setAiResults(prev => [...prev, analysis]);\n        setShowAiResults(true);\n        showNotification('✅ Groq AI analysis completed');\n\n        // Auto-scroll to AI results\n        setTimeout(() => {\n          const aiResultsElement = document.querySelector('.ai-results-section');\n          if (aiResultsElement) {\n            aiResultsElement.scrollIntoView({\n              behavior: 'smooth',\n              block: 'start',\n              inline: 'nearest'\n            });\n          }\n        }, 100);\n      } else if (hfService.current.isConfigured()) {\n        // Fallback to Hugging Face API\n        showNotification('Generating AI analysis with Hugging Face...');\n        const analysis = await hfService.current.generateAnalysis(type, originalText, changedText);\n        setAiResults(prev => [...prev, analysis]);\n        setShowAiResults(true);\n        showNotification('✅ Hugging Face AI analysis completed');\n\n        // Auto-scroll to AI results\n        setTimeout(() => {\n          const aiResultsElement = document.querySelector('.ai-results-section');\n          if (aiResultsElement) {\n            aiResultsElement.scrollIntoView({\n              behavior: 'smooth',\n              block: 'start',\n              inline: 'nearest'\n            });\n          }\n        }, 100);\n      } else {\n        // Generate local analysis when no API is configured\n        showNotification('Generating local analysis (No AI API configured)');\n        const analysis = await hfService.current.generateLocalAnalysis(type, originalText, changedText);\n        setAiResults(prev => [...prev, analysis]);\n        setShowAiResults(true);\n        showNotification('Local analysis completed');\n\n        // Auto-scroll to AI results\n        setTimeout(() => {\n          const aiResultsElement = document.querySelector('.ai-results-section');\n          if (aiResultsElement) {\n            aiResultsElement.scrollIntoView({\n              behavior: 'smooth',\n              block: 'start',\n              inline: 'nearest'\n            });\n          }\n        }, 100);\n      }\n    } catch (error) {\n      console.error('AI Analysis Error:', error);\n      // Try to generate fallback analysis even on error\n      try {\n        if (groqService.current.isConfigured() && !error.message.includes('Groq')) {\n          // If Groq failed, try Hugging Face\n          showNotification('Groq failed, trying Hugging Face...');\n          const fallbackAnalysis = await hfService.current.generateAnalysis(type, originalText, changedText);\n          setAiResults(prev => [...prev, fallbackAnalysis]);\n          setShowAiResults(true);\n          showNotification('✅ Hugging Face fallback analysis completed');\n\n          // Auto-scroll to AI results\n          setTimeout(() => {\n            const aiResultsElement = document.querySelector('.ai-results-section');\n            if (aiResultsElement) {\n              aiResultsElement.scrollIntoView({\n                behavior: 'smooth',\n                block: 'start',\n                inline: 'nearest'\n              });\n            }\n          }, 100);\n        } else {\n          // Generate local analysis as final fallback\n          const fallbackAnalysis = await hfService.current.generateLocalAnalysis(type, originalText, changedText);\n          setAiResults(prev => [...prev, fallbackAnalysis]);\n          setShowAiResults(true);\n          showNotification('Local analysis completed (AI services unavailable)');\n\n          // Auto-scroll to AI results\n          setTimeout(() => {\n            const aiResultsElement = document.querySelector('.ai-results-section');\n            if (aiResultsElement) {\n              aiResultsElement.scrollIntoView({\n                behavior: 'smooth',\n                block: 'start',\n                inline: 'nearest'\n              });\n            }\n          }, 100);\n        }\n      } catch (fallbackError) {\n        showNotification(`Analysis failed: ${error.message}`);\n      }\n    } finally {\n      setIsGeneratingAI(false);\n    }\n  };\n  const clearAIResults = () => {\n    setAiResults([]);\n    setShowAiResults(false);\n    showNotification('AI results cleared');\n  };\n  const removeAICard = index => {\n    setAiResults(prev => prev.filter((_, i) => i !== index));\n    showNotification('AI analysis removed');\n\n    // Hide AI results section if no cards left\n    if (aiResults.length <= 1) {\n      setShowAiResults(false);\n    }\n  };\n\n  // Navigation functions\n  const navigateToPreviousChange = () => {\n    console.log('Navigate Previous - Changes:', changes.length, 'Current Index:', currentChangeIndex); // Debug log\n    if (changes.length === 0) {\n      showNotification('No changes to navigate');\n      return;\n    }\n    const newIndex = currentChangeIndex > 0 ? currentChangeIndex - 1 : changes.length - 1;\n    setCurrentChangeIndex(newIndex);\n    scrollToChange(newIndex);\n  };\n  const navigateToNextChange = () => {\n    console.log('Navigate Next - Changes:', changes.length, 'Current Index:', currentChangeIndex); // Debug log\n    if (changes.length === 0) {\n      showNotification('No changes to navigate');\n      return;\n    }\n    const newIndex = currentChangeIndex < changes.length - 1 ? currentChangeIndex + 1 : 0;\n    setCurrentChangeIndex(newIndex);\n    scrollToChange(newIndex);\n  };\n  const scrollToChange = index => {\n    if (index < 0 || index >= changes.length) return;\n    const change = changes[index];\n\n    // Try multiple selectors to find the line\n    let lineElement = document.querySelector(`[data-line-number=\"${change.lineNumber}\"][data-line-type=\"${change.type}\"]`);\n    if (!lineElement) {\n      lineElement = document.querySelector(`[data-original-line=\"${change.lineNumber}\"]`);\n    }\n    if (!lineElement) {\n      lineElement = document.querySelector(`[data-line-number=\"${change.lineNumber}\"]`);\n    }\n    if (lineElement) {\n      // Remove previous highlights\n      document.querySelectorAll('.current-change').forEach(el => {\n        el.classList.remove('current-change');\n      });\n      lineElement.scrollIntoView({\n        behavior: 'smooth',\n        block: 'center'\n      });\n\n      // Highlight the current change temporarily\n      lineElement.classList.add('current-change');\n      setTimeout(() => {\n        lineElement.classList.remove('current-change');\n      }, 3000);\n      showNotification(`Navigated to change ${index + 1} of ${changes.length}: ${change.type}`);\n    } else {\n      showNotification(`Could not find change ${index + 1} (line ${change.lineNumber})`);\n    }\n  };\n  const toggleMinimap = () => {\n    setMinimapVisible(!minimapVisible);\n    showNotification(minimapVisible ? 'Minimap hidden' : 'Minimap shown');\n  };\n\n  // Auto-detect language when text changes\n  useEffect(() => {\n    if (settings.autoDetectLanguage && (originalText.trim() || changedText.trim())) {\n      const combinedText = originalText + '\\n' + changedText;\n      const detection = languageDetector.current.autoDetect(combinedText);\n      setDetectedLanguage(detection);\n\n      // Auto-update language setting for ANY detection (including plaintext)\n      if (detection.language !== settings.language) {\n        setSettings(prev => ({\n          ...prev,\n          language: detection.language\n        }));\n\n        // Show notification for language changes\n        if (detection.language === 'plaintext') {\n          console.log('🔍 Auto-detected: Plain text');\n        } else {\n          console.log(`🔍 Auto-detected: ${detection.language} (${detection.confidence} confidence)`);\n        }\n      }\n    } else if (!settings.autoDetectLanguage) {\n      // Reset to default when auto-detect is disabled\n      setDetectedLanguage({\n        language: 'plaintext',\n        confidence: 'low',\n        method: 'default'\n      });\n    } else if (!originalText.trim() && !changedText.trim()) {\n      // Reset to plaintext when both text areas are empty\n      setDetectedLanguage({\n        language: 'plaintext',\n        confidence: 'high',\n        method: 'empty'\n      });\n      if (settings.language !== 'plaintext') {\n        setSettings(prev => ({\n          ...prev,\n          language: 'plaintext'\n        }));\n      }\n    }\n  }, [originalText, changedText, settings.autoDetectLanguage, settings.language]);\n\n  // Live preview with debouncing\n  useEffect(() => {\n    if (settings.livePreview && (originalText.trim() || changedText.trim())) {\n      clearTimeout(debounceTimer.current);\n      debounceTimer.current = setTimeout(() => {\n        performComparison();\n      }, 500);\n    }\n    return () => clearTimeout(debounceTimer.current);\n  }, [originalText, changedText, settings.livePreview, settings.diffMode, settings.ignoreCase, settings.ignoreWhitespace, settings.ignorePunctuation, performComparison]);\n\n  // Keyboard shortcuts\n  useEffect(() => {\n    const handleKeyDown = e => {\n      // Don't trigger shortcuts when typing in text areas or input fields\n      if (e.target.tagName === 'TEXTAREA' || e.target.tagName === 'INPUT') {\n        return;\n      }\n      if (e.ctrlKey || e.metaKey) {\n        switch (e.key.toLowerCase()) {\n          case 'enter':\n            e.preventDefault();\n            performComparison();\n            showNotification('⌨️ Ctrl+Enter: Comparison started');\n            break;\n          case 'k':\n            e.preventDefault();\n            clearAll();\n            showNotification('⌨️ Ctrl+K: All content cleared');\n            break;\n          case 's':\n            e.preventDefault();\n            swapTexts();\n            showNotification('⌨️ Ctrl+S: Texts swapped');\n            break;\n          case 'c':\n            if (showResults) {\n              e.preventDefault();\n              copyResults();\n              showNotification('⌨️ Ctrl+C: Results copied');\n            }\n            break;\n          case 'd':\n            e.preventDefault();\n            toggleTheme();\n            showNotification('⌨️ Ctrl+D: Theme toggled');\n            break;\n          case 'h':\n            e.preventDefault();\n            toggleContrast();\n            showNotification('⌨️ Ctrl+H: Contrast toggled');\n            break;\n          case 'm':\n            e.preventDefault();\n            toggleMinimap();\n            showNotification('⌨️ Ctrl+M: Minimap toggled');\n            break;\n          default:\n            break;\n        }\n      }\n\n      // Handle other shortcuts\n      switch (e.key) {\n        case 'Escape':\n          if (showAiResults) {\n            clearAIResults();\n            showNotification('⌨️ Escape: AI results cleared');\n          }\n          break;\n        case 'ArrowUp':\n          if (e.ctrlKey) {\n            e.preventDefault();\n            navigateToPreviousChange();\n          }\n          break;\n        case 'ArrowDown':\n          if (e.ctrlKey) {\n            e.preventDefault();\n            navigateToNextChange();\n          }\n          break;\n        default:\n          break;\n      }\n    };\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [showResults, showAiResults, performComparison, clearAll, swapTexts, copyResults, toggleTheme, toggleContrast, toggleMinimap, clearAIResults, navigateToPreviousChange, navigateToNextChange, showNotification]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"quickdiff-app\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        onThemeToggle: toggleTheme,\n        onContrastToggle: toggleContrast\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 701,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SettingsPanel, {\n        settings: settings,\n        onSettingsChange: setSettings,\n        detectedLanguage: detectedLanguage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 706,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputSection, {\n        originalText: originalText,\n        changedText: changedText,\n        onOriginalTextChange: setOriginalText,\n        onChangedTextChange: setChangedText,\n        onFileLoad: handleFileLoad\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 712,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Controls, {\n        onCompare: performComparison,\n        onClear: clearAll,\n        onSwap: swapTexts,\n        onCopy: copyResults,\n        onExportTxt: exportToTxt,\n        onExportHtml: exportToHtml,\n        onExportMd: exportToMarkdown,\n        onExportPdf: exportToPdf,\n        onAIAnalysis: generateAIAnalysis,\n        hasResults: showResults,\n        isGeneratingAI: isGeneratingAI,\n        hfConfigured: hfService.current.isConfigured(),\n        groqConfigured: groqService.current.isConfigured()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 720,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 736,\n        columnNumber: 9\n      }, this), showResults && /*#__PURE__*/_jsxDEV(Results, {\n        diffResult: diffResult,\n        settings: settings,\n        changes: changes,\n        currentChangeIndex: currentChangeIndex,\n        minimapVisible: minimapVisible,\n        onNavigatePrevious: navigateToPreviousChange,\n        onNavigateNext: navigateToNextChange,\n        onToggleMinimap: toggleMinimap,\n        onNavigateToChange: index => {\n          setCurrentChangeIndex(index);\n          scrollToChange(index);\n        },\n        aiResults: aiResults,\n        showAiResults: showAiResults,\n        onClearAIResults: clearAIResults,\n        onRemoveAICard: removeAICard\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 739,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 700,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 699,\n    columnNumber: 5\n  }, this);\n}\n_s(QuickDiffApp, \"zZKBApYItMuPom1kH/SlxAghUb0=\", false, function () {\n  return [useNotification];\n});\n_c = QuickDiffApp;\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(NotificationProvider, {\n    children: /*#__PURE__*/_jsxDEV(QuickDiffApp, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 768,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 767,\n    columnNumber: 5\n  }, this);\n}\n_c2 = App;\nexport default App;\nvar _c, _c2;\n$RefreshReg$(_c, \"QuickDiffApp\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","Header","SettingsPanel","InputSection","Controls","Legend","Results","ReactUserGuide","DiffEngine","ExportUtils","GroqService","LanguageDetector","NotificationProvider","useNotification","jsxDEV","_jsxDEV","QuickDiffApp","_s","originalText","setOriginalText","changedText","setChangedText","diffResult","setDiffResult","showResults","setShowResults","theme","setTheme","contrast","setContrast","settings","setSettings","diffMode","viewMode","language","autoDetectLanguage","ignoreCase","ignoreWhitespace","ignorePunctuation","livePreview","detectedLanguage","setDetectedLanguage","confidence","method","aiResults","setAiResults","showAiResults","setShowAiResults","isGeneratingAI","setIsGeneratingAI","changes","setChanges","currentChangeIndex","setCurrentChangeIndex","minimapVisible","setMinimapVisible","debounceTimer","diffEngine","exportUtils","groqService","languageDetector","showNotification","loadSettings","savedSettings","localStorage","getItem","prev","JSON","parse","error","console","saveSettings","setItem","stringify","loadTheme","savedTheme","savedContrast","document","documentElement","setAttribute","log","process","env","REACT_APP_GROQ_API_KEY","REACT_APP_HUGGINGFACE_API_KEY","current","debugConfig","window","testGroq","result","testConnection","success","message","hfService","testHF","collectChanges","newChanges","originalLines","forEach","line","index","type","push","lineNumber","content","originalLineNumber","changedLineNumber","changedLines","exists","some","change","sort","a","b","length","performComparison","trim","setTimeout","resultsElement","getElementById","scrollIntoView","behavior","block","toggleTheme","newTheme","toggleContrast","newContrast","clearAll","swapTexts","temp","handleFileLoad","file","target","reader","FileReader","onload","e","detection","autoDetect","name","readAsText","copyResults","then","catch","exportToTxt","exportToHtml","exportToMarkdown","exportToPdf","generateAIAnalysis","existingAnalysis","find","isConfigured","analysis","generateAnalysis","aiResultsElement","querySelector","inline","generateLocalAnalysis","includes","fallbackAnalysis","fallbackError","clearAIResults","removeAICard","filter","_","i","navigateToPreviousChange","newIndex","scrollToChange","navigateToNextChange","lineElement","querySelectorAll","el","classList","remove","add","toggleMinimap","combinedText","clearTimeout","handleKeyDown","tagName","ctrlKey","metaKey","key","toLowerCase","preventDefault","addEventListener","removeEventListener","className","children","onThemeToggle","onContrastToggle","fileName","_jsxFileName","columnNumber","onSettingsChange","onOriginalTextChange","onChangedTextChange","onFileLoad","onCompare","onClear","onSwap","onCopy","onExportTxt","onExportHtml","onExportMd","onExportPdf","onAIAnalysis","hasResults","hfConfigured","groqConfigured","onNavigatePrevious","onNavigateNext","onToggleMinimap","onNavigateToChange","onClearAIResults","onRemoveAICard","_c","App","_c2","$RefreshReg$"],"sources":["C:/Users/Joem/quickdiff-react/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\r\nimport './App.css';\r\nimport './user-guide.css';\r\nimport Header from './components/Header';\r\nimport SettingsPanel from './components/SettingsPanel';\r\nimport InputSection from './components/InputSection';\r\nimport Controls from './components/Controls';\r\nimport Legend from './components/Legend';\r\nimport Results from './components/Results';\r\nimport ReactUserGuide from './user-guide.js';\r\nimport { DiffEngine } from './utils/DiffEngine';\r\nimport { ExportUtils } from './utils/ExportUtils';\r\nimport { GroqService } from './utils/GroqService';\r\nimport { LanguageDetector } from './utils/LanguageDetector';\r\nimport { NotificationProvider, useNotification } from './components/NotificationProvider';\r\n\r\nfunction QuickDiffApp() {\r\n  // State management\r\n  const [originalText, setOriginalText] = useState('');\r\n  const [changedText, setChangedText] = useState('');\r\n  const [diffResult, setDiffResult] = useState(null);\r\n  const [showResults, setShowResults] = useState(false);\r\n  const [theme, setTheme] = useState('light');\r\n  const [contrast, setContrast] = useState('normal');\r\n  \r\n  // Settings state\r\n  const [settings, setSettings] = useState({\r\n    diffMode: 'line',\r\n    viewMode: 'side-by-side',\r\n    language: 'plaintext',\r\n    autoDetectLanguage: true,\r\n    ignoreCase: false,\r\n    ignoreWhitespace: false,\r\n    ignorePunctuation: false,\r\n    livePreview: false\r\n  });\r\n\r\n  // Language detection state\r\n  const [detectedLanguage, setDetectedLanguage] = useState({\r\n    language: 'plaintext',\r\n    confidence: 'low',\r\n    method: 'default'\r\n  });\r\n\r\n  // AI state\r\n  const [aiResults, setAiResults] = useState([]);\r\n  const [showAiResults, setShowAiResults] = useState(false);\r\n  const [isGeneratingAI, setIsGeneratingAI] = useState(false);\r\n\r\n  // Navigation state\r\n  const [changes, setChanges] = useState([]);\r\n  const [currentChangeIndex, setCurrentChangeIndex] = useState(-1);\r\n  const [minimapVisible, setMinimapVisible] = useState(false);\r\n  \r\n  // Initialize user guide\r\n  useEffect(() => {\r\n    new ReactUserGuide();\r\n  }, []);\r\n\r\n  // Refs\r\n  const debounceTimer = useRef(null);\r\n  const diffEngine = useRef(new DiffEngine());\r\n  const exportUtils = useRef(new ExportUtils());\r\n  const groqService = useRef(new GroqService());\r\n  const languageDetector = useRef(new LanguageDetector());\r\n  \r\n  const { showNotification } = useNotification();\r\n\r\n  // Settings management functions (defined early to avoid hoisting issues)\r\n  const loadSettings = () => {\r\n    try {\r\n      const savedSettings = localStorage.getItem('quickdiff_react_settings');\r\n      if (savedSettings) {\r\n        setSettings(prev => ({ ...prev, ...JSON.parse(savedSettings) }));\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading settings:', error);\r\n    }\r\n  };\r\n\r\n  const saveSettings = useCallback(() => {\r\n    try {\r\n      localStorage.setItem('quickdiff_react_settings', JSON.stringify(settings));\r\n    } catch (error) {\r\n      console.error('Error saving settings:', error);\r\n    }\r\n  }, [settings]);\r\n\r\n  const loadTheme = () => {\r\n    const savedTheme = localStorage.getItem('quickdiff_theme') || 'light';\r\n    const savedContrast = localStorage.getItem('quickdiff_contrast') || 'normal';\r\n    setTheme(savedTheme);\r\n    setContrast(savedContrast);\r\n    document.documentElement.setAttribute('data-theme', savedTheme);\r\n    document.documentElement.setAttribute('data-contrast', savedContrast);\r\n  };\r\n\r\n  // Load settings and theme on mount\r\n  useEffect(() => {\r\n    loadSettings();\r\n    loadTheme();\r\n    \r\n    // Debug AI API configurations\r\n    console.log('=== QuickDiff App Debug ===');\r\n    console.log('Environment variables check:');\r\n    console.log('REACT_APP_GROQ_API_KEY:', process.env.REACT_APP_GROQ_API_KEY ? 'Found' : 'Not found');\r\n    console.log('REACT_APP_HUGGINGFACE_API_KEY:', process.env.REACT_APP_HUGGINGFACE_API_KEY ? 'Found' : 'Not found');\r\n    \r\n    if (groqService.current) {\r\n      groqService.current.debugConfig();\r\n      \r\n      // Make Groq service available globally for testing\r\n      window.testGroq = async () => {\r\n        console.log('🧪 Testing Groq API...');\r\n        try {\r\n          const result = await groqService.current.testConnection();\r\n          console.log('🧪 Test result:', result);\r\n          return result;\r\n        } catch (error) {\r\n          console.error('🧪 Test failed:', error);\r\n          return { success: false, error: error.message };\r\n        }\r\n      };\r\n      \r\n      console.log('💡 You can test Groq API by running: testGroq() in console');\r\n    }\r\n    \r\n    if (hfService.current) {\r\n      hfService.current.debugConfig();\r\n      \r\n      // Make HF service available globally for testing\r\n      window.testHF = async () => {\r\n        console.log('🧪 Testing Hugging Face API...');\r\n        try {\r\n          const result = await hfService.current.testConnection();\r\n          console.log('🧪 Test result:', result);\r\n          return result;\r\n        } catch (error) {\r\n          console.error('🧪 Test failed:', error);\r\n          return { success: false, error: error.message };\r\n        }\r\n      };\r\n      \r\n      console.log('💡 You can test HF API by running: testHF() in console');\r\n    }\r\n    console.log('========================');\r\n  }, []);\r\n\r\n\r\n  // Auto-save settings when they change\r\n  useEffect(() => {\r\n    saveSettings();\r\n  }, [settings, saveSettings]);\r\n\r\n\r\n\r\n  // Collect changes for navigation (defined early to avoid hoisting issues)\r\n  const collectChanges = useCallback((result) => {\r\n    if (!result) return;\r\n    \r\n    const newChanges = [];\r\n    \r\n    // Extract changes from originalLines (DiffEngine returns originalLines and changedLines)\r\n    if (result.originalLines) {\r\n      result.originalLines.forEach((line, index) => {\r\n        if (line.type && line.type !== 'unchanged' && line.type !== '') {\r\n          newChanges.push({\r\n            lineNumber: index + 1,\r\n            type: line.type,\r\n            content: line.content || '',\r\n            originalLineNumber: index + 1,\r\n            changedLineNumber: index + 1\r\n          });\r\n        }\r\n      });\r\n    }\r\n    \r\n    // Also check changedLines for additional changes (like added lines)\r\n    if (result.changedLines) {\r\n      result.changedLines.forEach((line, index) => {\r\n        if (line.type && line.type !== 'unchanged' && line.type !== '') {\r\n          // Avoid duplicates by checking if we already have this change\r\n          const exists = newChanges.some(change => \r\n            change.lineNumber === index + 1 && change.type === line.type\r\n          );\r\n          if (!exists) {\r\n            newChanges.push({\r\n              lineNumber: index + 1,\r\n              type: line.type,\r\n              content: line.content || '',\r\n              originalLineNumber: index + 1,\r\n              changedLineNumber: index + 1\r\n            });\r\n          }\r\n        }\r\n      });\r\n    }\r\n    \r\n    // Sort changes by line number\r\n    newChanges.sort((a, b) => a.lineNumber - b.lineNumber);\r\n    \r\n    console.log('Collected Changes:', newChanges); // Debug log\r\n    setChanges(newChanges);\r\n    setCurrentChangeIndex(newChanges.length > 0 ? 0 : -1);\r\n    \r\n    if (newChanges.length > 0) {\r\n      showNotification(`Found ${newChanges.length} changes`);\r\n    } else {\r\n      showNotification('No changes detected');\r\n    }\r\n  }, [showNotification]);\r\n\r\n  // Main comparison function (defined early to avoid hoisting issues)\r\n  const performComparison = useCallback(() => {\r\n    if (!originalText.trim() && !changedText.trim()) {\r\n      showNotification('Please enter some text to compare');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const result = diffEngine.current.performComparison(\r\n        originalText,\r\n        changedText,\r\n        settings\r\n      );\r\n\r\n      console.log('Diff Result:', result); // Debug log\r\n      setDiffResult(result);\r\n      setShowResults(true);\r\n      collectChanges(result);\r\n      \r\n      // Auto-generate AI analysis is disabled to prevent duplicate results\r\n      // Users can manually trigger AI analysis using the AI buttons\r\n      \r\n      // Auto-scroll to results only if live preview is disabled\r\n      if (!settings.livePreview) {\r\n        setTimeout(() => {\r\n          const resultsElement = document.getElementById('results-section');\r\n          if (resultsElement) {\r\n            resultsElement.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n          }\r\n        }, 100);\r\n      }\r\n\r\n      showNotification('Comparison completed');\r\n    } catch (error) {\r\n      console.error('Comparison error:', error);\r\n      showNotification('Error performing comparison');\r\n    }\r\n  }, [originalText, changedText, settings, showNotification, collectChanges]);\r\n\r\n  // Theme management\r\n  const toggleTheme = () => {\r\n    const newTheme = theme === 'light' ? 'dark' : 'light';\r\n    setTheme(newTheme);\r\n    localStorage.setItem('quickdiff_theme', newTheme);\r\n    document.documentElement.setAttribute('data-theme', newTheme);\r\n    showNotification(`Switched to ${newTheme} theme`);\r\n  };\r\n\r\n  const toggleContrast = () => {\r\n    const newContrast = contrast === 'normal' ? 'high' : 'normal';\r\n    setContrast(newContrast);\r\n    localStorage.setItem('quickdiff_contrast', newContrast);\r\n    document.documentElement.setAttribute('data-contrast', newContrast);\r\n    showNotification(`${newContrast === 'high' ? 'Enabled' : 'Disabled'} high contrast mode`);\r\n  };\r\n\r\n  // Text manipulation functions\r\n  const clearAll = () => {\r\n    setOriginalText('');\r\n    setChangedText('');\r\n    setShowResults(false);\r\n    setDiffResult(null);\r\n    setAiResults([]);\r\n    setShowAiResults(false);\r\n    showNotification('All content cleared');\r\n  };\r\n\r\n  const swapTexts = () => {\r\n    const temp = originalText;\r\n    setOriginalText(changedText);\r\n    setChangedText(temp);\r\n    showNotification('Texts swapped');\r\n    \r\n    if (settings.livePreview && (originalText.trim() || changedText.trim())) {\r\n      performComparison();\r\n    }\r\n  };\r\n\r\n  // File handling\r\n  const handleFileLoad = (file, target) => {\r\n    const reader = new FileReader();\r\n    reader.onload = (e) => {\r\n      const content = e.target.result;\r\n      if (target === 'original') {\r\n        setOriginalText(content);\r\n      } else {\r\n        setChangedText(content);\r\n      }\r\n      \r\n      // Auto-detect language from filename if enabled\r\n      if (settings.autoDetectLanguage) {\r\n        const detection = languageDetector.current.autoDetect(content, file.name);\r\n        setDetectedLanguage(detection);\r\n        \r\n        if (detection.language !== 'plaintext') {\r\n          setSettings(prev => ({\r\n            ...prev,\r\n            language: detection.language\r\n          }));\r\n        }\r\n        showNotification(`File loaded: ${file.name}`);\r\n      } else {\r\n        showNotification(`File loaded: ${file.name}`);\r\n      }\r\n    };\r\n    reader.readAsText(file);\r\n  };\r\n\r\n  // Export functions\r\n  const copyResults = () => {\r\n    exportUtils.current.copyResults(originalText, changedText, aiResults)\r\n      .then(() => showNotification('Results copied to clipboard'))\r\n      .catch(() => showNotification('Failed to copy results'));\r\n  };\r\n\r\n  const exportToTxt = () => {\r\n    exportUtils.current.exportToTxt(originalText, changedText, diffResult, aiResults);\r\n    showNotification('Exported as TXT file');\r\n  };\r\n\r\n  const exportToHtml = () => {\r\n    exportUtils.current.exportToHtml(originalText, changedText, diffResult, aiResults);\r\n    showNotification('Exported as HTML file');\r\n  };\r\n\r\n  const exportToMarkdown = () => {\r\n    exportUtils.current.exportToMarkdown(originalText, changedText, diffResult, aiResults);\r\n    showNotification('Exported as Markdown file');\r\n  };\r\n\r\n  const exportToPdf = () => {\r\n    exportUtils.current.exportToPdf(originalText, changedText, diffResult, aiResults);\r\n    showNotification('Exported as PDF file');\r\n  };\r\n\r\n  // AI functions\r\n  const generateAIAnalysis = async (type) => {\r\n    if (!originalText.trim() && !changedText.trim()) {\r\n      showNotification('Please enter some text to analyze');\r\n      return;\r\n    }\r\n\r\n    // Check if this analysis type already exists to prevent duplicates\r\n    const existingAnalysis = aiResults.find(result => result.type === type);\r\n    if (existingAnalysis) {\r\n      showNotification(`${type} analysis already exists. Clear AI results first to regenerate.`);\r\n      return;\r\n    }\r\n\r\n    setIsGeneratingAI(true);\r\n    try {\r\n      if (groqService.current.isConfigured()) {\r\n        // Use Groq API when configured (PREFERRED)\r\n        showNotification('Generating AI analysis with Groq...');\r\n        const analysis = await groqService.current.generateAnalysis(type, originalText, changedText);\r\n        setAiResults(prev => [...prev, analysis]);\r\n        setShowAiResults(true);\r\n        showNotification('✅ Groq AI analysis completed');\r\n        \r\n        // Auto-scroll to AI results\r\n        setTimeout(() => {\r\n          const aiResultsElement = document.querySelector('.ai-results-section');\r\n          if (aiResultsElement) {\r\n            aiResultsElement.scrollIntoView({ \r\n              behavior: 'smooth', \r\n              block: 'start',\r\n              inline: 'nearest'\r\n            });\r\n          }\r\n        }, 100);\r\n        \r\n      } else if (hfService.current.isConfigured()) {\r\n        // Fallback to Hugging Face API\r\n        showNotification('Generating AI analysis with Hugging Face...');\r\n        const analysis = await hfService.current.generateAnalysis(type, originalText, changedText);\r\n        setAiResults(prev => [...prev, analysis]);\r\n        setShowAiResults(true);\r\n        showNotification('✅ Hugging Face AI analysis completed');\r\n        \r\n        // Auto-scroll to AI results\r\n        setTimeout(() => {\r\n          const aiResultsElement = document.querySelector('.ai-results-section');\r\n          if (aiResultsElement) {\r\n            aiResultsElement.scrollIntoView({ \r\n              behavior: 'smooth', \r\n              block: 'start',\r\n              inline: 'nearest'\r\n            });\r\n          }\r\n        }, 100);\r\n        \r\n      } else {\r\n        // Generate local analysis when no API is configured\r\n        showNotification('Generating local analysis (No AI API configured)');\r\n        const analysis = await hfService.current.generateLocalAnalysis(type, originalText, changedText);\r\n        setAiResults(prev => [...prev, analysis]);\r\n        setShowAiResults(true);\r\n        showNotification('Local analysis completed');\r\n        \r\n        // Auto-scroll to AI results\r\n        setTimeout(() => {\r\n          const aiResultsElement = document.querySelector('.ai-results-section');\r\n          if (aiResultsElement) {\r\n            aiResultsElement.scrollIntoView({ \r\n              behavior: 'smooth', \r\n              block: 'start',\r\n              inline: 'nearest'\r\n            });\r\n          }\r\n        }, 100);\r\n      }\r\n    } catch (error) {\r\n      console.error('AI Analysis Error:', error);\r\n      // Try to generate fallback analysis even on error\r\n      try {\r\n        if (groqService.current.isConfigured() && !error.message.includes('Groq')) {\r\n          // If Groq failed, try Hugging Face\r\n          showNotification('Groq failed, trying Hugging Face...');\r\n          const fallbackAnalysis = await hfService.current.generateAnalysis(type, originalText, changedText);\r\n          setAiResults(prev => [...prev, fallbackAnalysis]);\r\n          setShowAiResults(true);\r\n          showNotification('✅ Hugging Face fallback analysis completed');\r\n          \r\n          // Auto-scroll to AI results\r\n          setTimeout(() => {\r\n            const aiResultsElement = document.querySelector('.ai-results-section');\r\n            if (aiResultsElement) {\r\n              aiResultsElement.scrollIntoView({ \r\n                behavior: 'smooth', \r\n                block: 'start',\r\n                inline: 'nearest'\r\n              });\r\n            }\r\n          }, 100);\r\n          \r\n        } else {\r\n          // Generate local analysis as final fallback\r\n          const fallbackAnalysis = await hfService.current.generateLocalAnalysis(type, originalText, changedText);\r\n          setAiResults(prev => [...prev, fallbackAnalysis]);\r\n          setShowAiResults(true);\r\n          showNotification('Local analysis completed (AI services unavailable)');\r\n          \r\n          // Auto-scroll to AI results\r\n          setTimeout(() => {\r\n            const aiResultsElement = document.querySelector('.ai-results-section');\r\n            if (aiResultsElement) {\r\n              aiResultsElement.scrollIntoView({ \r\n                behavior: 'smooth', \r\n                block: 'start',\r\n                inline: 'nearest'\r\n              });\r\n            }\r\n          }, 100);\r\n        }\r\n      } catch (fallbackError) {\r\n        showNotification(`Analysis failed: ${error.message}`);\r\n      }\r\n    } finally {\r\n      setIsGeneratingAI(false);\r\n    }\r\n  };\r\n\r\n  const clearAIResults = () => {\r\n    setAiResults([]);\r\n    setShowAiResults(false);\r\n    showNotification('AI results cleared');\r\n  };\r\n\r\n  const removeAICard = (index) => {\r\n    setAiResults(prev => prev.filter((_, i) => i !== index));\r\n    showNotification('AI analysis removed');\r\n    \r\n    // Hide AI results section if no cards left\r\n    if (aiResults.length <= 1) {\r\n      setShowAiResults(false);\r\n    }\r\n  };\r\n\r\n  // Navigation functions\r\n  const navigateToPreviousChange = () => {\r\n    console.log('Navigate Previous - Changes:', changes.length, 'Current Index:', currentChangeIndex); // Debug log\r\n    if (changes.length === 0) {\r\n      showNotification('No changes to navigate');\r\n      return;\r\n    }\r\n    \r\n    const newIndex = currentChangeIndex > 0 ? currentChangeIndex - 1 : changes.length - 1;\r\n    setCurrentChangeIndex(newIndex);\r\n    scrollToChange(newIndex);\r\n  };\r\n\r\n  const navigateToNextChange = () => {\r\n    console.log('Navigate Next - Changes:', changes.length, 'Current Index:', currentChangeIndex); // Debug log\r\n    if (changes.length === 0) {\r\n      showNotification('No changes to navigate');\r\n      return;\r\n    }\r\n    \r\n    const newIndex = currentChangeIndex < changes.length - 1 ? currentChangeIndex + 1 : 0;\r\n    setCurrentChangeIndex(newIndex);\r\n    scrollToChange(newIndex);\r\n  };\r\n\r\n  const scrollToChange = (index) => {\r\n    if (index < 0 || index >= changes.length) return;\r\n    \r\n    const change = changes[index];\r\n    \r\n    // Try multiple selectors to find the line\r\n    let lineElement = document.querySelector(`[data-line-number=\"${change.lineNumber}\"][data-line-type=\"${change.type}\"]`);\r\n    \r\n    if (!lineElement) {\r\n      lineElement = document.querySelector(`[data-original-line=\"${change.lineNumber}\"]`);\r\n    }\r\n    \r\n    if (!lineElement) {\r\n      lineElement = document.querySelector(`[data-line-number=\"${change.lineNumber}\"]`);\r\n    }\r\n    \r\n    if (lineElement) {\r\n      // Remove previous highlights\r\n      document.querySelectorAll('.current-change').forEach(el => {\r\n        el.classList.remove('current-change');\r\n      });\r\n      \r\n      lineElement.scrollIntoView({ \r\n        behavior: 'smooth', \r\n        block: 'center' \r\n      });\r\n      \r\n      // Highlight the current change temporarily\r\n      lineElement.classList.add('current-change');\r\n      setTimeout(() => {\r\n        lineElement.classList.remove('current-change');\r\n      }, 3000);\r\n      \r\n      showNotification(`Navigated to change ${index + 1} of ${changes.length}: ${change.type}`);\r\n    } else {\r\n      showNotification(`Could not find change ${index + 1} (line ${change.lineNumber})`);\r\n    }\r\n  };\r\n\r\n  const toggleMinimap = () => {\r\n    setMinimapVisible(!minimapVisible);\r\n    showNotification(minimapVisible ? 'Minimap hidden' : 'Minimap shown');\r\n  };\r\n\r\n  // Auto-detect language when text changes\r\n  useEffect(() => {\r\n    if (settings.autoDetectLanguage && (originalText.trim() || changedText.trim())) {\r\n      const combinedText = originalText + '\\n' + changedText;\r\n      const detection = languageDetector.current.autoDetect(combinedText);\r\n      \r\n      setDetectedLanguage(detection);\r\n      \r\n      // Auto-update language setting for ANY detection (including plaintext)\r\n      if (detection.language !== settings.language) {\r\n        setSettings(prev => ({\r\n          ...prev,\r\n          language: detection.language\r\n        }));\r\n        \r\n        // Show notification for language changes\r\n        if (detection.language === 'plaintext') {\r\n          console.log('🔍 Auto-detected: Plain text');\r\n        } else {\r\n          console.log(`🔍 Auto-detected: ${detection.language} (${detection.confidence} confidence)`);\r\n        }\r\n      }\r\n    } else if (!settings.autoDetectLanguage) {\r\n      // Reset to default when auto-detect is disabled\r\n      setDetectedLanguage({\r\n        language: 'plaintext',\r\n        confidence: 'low',\r\n        method: 'default'\r\n      });\r\n    } else if (!originalText.trim() && !changedText.trim()) {\r\n      // Reset to plaintext when both text areas are empty\r\n      setDetectedLanguage({\r\n        language: 'plaintext',\r\n        confidence: 'high',\r\n        method: 'empty'\r\n      });\r\n      if (settings.language !== 'plaintext') {\r\n        setSettings(prev => ({\r\n          ...prev,\r\n          language: 'plaintext'\r\n        }));\r\n      }\r\n    }\r\n  }, [originalText, changedText, settings.autoDetectLanguage, settings.language]);\r\n\r\n  // Live preview with debouncing\r\n  useEffect(() => {\r\n    if (settings.livePreview && (originalText.trim() || changedText.trim())) {\r\n      clearTimeout(debounceTimer.current);\r\n      debounceTimer.current = setTimeout(() => {\r\n        performComparison();\r\n      }, 500);\r\n    }\r\n    \r\n    return () => clearTimeout(debounceTimer.current);\r\n  }, [originalText, changedText, settings.livePreview, settings.diffMode, settings.ignoreCase, settings.ignoreWhitespace, settings.ignorePunctuation, performComparison]);\r\n\r\n  // Keyboard shortcuts\r\n  useEffect(() => {\r\n    const handleKeyDown = (e) => {\r\n      // Don't trigger shortcuts when typing in text areas or input fields\r\n      if (e.target.tagName === 'TEXTAREA' || e.target.tagName === 'INPUT') {\r\n        return;\r\n      }\r\n      \r\n      if (e.ctrlKey || e.metaKey) {\r\n        switch (e.key.toLowerCase()) {\r\n          case 'enter':\r\n            e.preventDefault();\r\n            performComparison();\r\n            showNotification('⌨️ Ctrl+Enter: Comparison started');\r\n            break;\r\n          case 'k':\r\n            e.preventDefault();\r\n            clearAll();\r\n            showNotification('⌨️ Ctrl+K: All content cleared');\r\n            break;\r\n          case 's':\r\n            e.preventDefault();\r\n            swapTexts();\r\n            showNotification('⌨️ Ctrl+S: Texts swapped');\r\n            break;\r\n          case 'c':\r\n            if (showResults) {\r\n              e.preventDefault();\r\n              copyResults();\r\n              showNotification('⌨️ Ctrl+C: Results copied');\r\n            }\r\n            break;\r\n          case 'd':\r\n            e.preventDefault();\r\n            toggleTheme();\r\n            showNotification('⌨️ Ctrl+D: Theme toggled');\r\n            break;\r\n          case 'h':\r\n            e.preventDefault();\r\n            toggleContrast();\r\n            showNotification('⌨️ Ctrl+H: Contrast toggled');\r\n            break;\r\n          case 'm':\r\n            e.preventDefault();\r\n            toggleMinimap();\r\n            showNotification('⌨️ Ctrl+M: Minimap toggled');\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      }\r\n      \r\n      // Handle other shortcuts\r\n      switch (e.key) {\r\n        case 'Escape':\r\n          if (showAiResults) {\r\n            clearAIResults();\r\n            showNotification('⌨️ Escape: AI results cleared');\r\n          }\r\n          break;\r\n        case 'ArrowUp':\r\n          if (e.ctrlKey) {\r\n            e.preventDefault();\r\n            navigateToPreviousChange();\r\n          }\r\n          break;\r\n        case 'ArrowDown':\r\n          if (e.ctrlKey) {\r\n            e.preventDefault();\r\n            navigateToNextChange();\r\n          }\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', handleKeyDown);\r\n    return () => document.removeEventListener('keydown', handleKeyDown);\r\n  }, [showResults, showAiResults, performComparison, clearAll, swapTexts, copyResults, toggleTheme, toggleContrast, toggleMinimap, clearAIResults, navigateToPreviousChange, navigateToNextChange, showNotification]);\r\n\r\n  return (\r\n    <div className=\"quickdiff-app\">\r\n      <div className=\"container\">\r\n        <Header \r\n          onThemeToggle={toggleTheme}\r\n          onContrastToggle={toggleContrast}\r\n        />\r\n        \r\n        <SettingsPanel \r\n          settings={settings}\r\n          onSettingsChange={setSettings}\r\n          detectedLanguage={detectedLanguage}\r\n        />\r\n        \r\n        <InputSection\r\n          originalText={originalText}\r\n          changedText={changedText}\r\n          onOriginalTextChange={setOriginalText}\r\n          onChangedTextChange={setChangedText}\r\n          onFileLoad={handleFileLoad}\r\n        />\r\n        \r\n        <Controls\r\n          onCompare={performComparison}\r\n          onClear={clearAll}\r\n          onSwap={swapTexts}\r\n          onCopy={copyResults}\r\n          onExportTxt={exportToTxt}\r\n          onExportHtml={exportToHtml}\r\n          onExportMd={exportToMarkdown}\r\n          onExportPdf={exportToPdf}\r\n          onAIAnalysis={generateAIAnalysis}\r\n          hasResults={showResults}\r\n          isGeneratingAI={isGeneratingAI}\r\n          hfConfigured={hfService.current.isConfigured()}\r\n          groqConfigured={groqService.current.isConfigured()}\r\n        />\r\n        \r\n        <Legend />\r\n        \r\n        {showResults && (\r\n          <Results\r\n            diffResult={diffResult}\r\n            settings={settings}\r\n            changes={changes}\r\n            currentChangeIndex={currentChangeIndex}\r\n            minimapVisible={minimapVisible}\r\n            onNavigatePrevious={navigateToPreviousChange}\r\n            onNavigateNext={navigateToNextChange}\r\n            onToggleMinimap={toggleMinimap}\r\n            onNavigateToChange={(index) => {\r\n              setCurrentChangeIndex(index);\r\n              scrollToChange(index);\r\n            }}\r\n            aiResults={aiResults}\r\n            showAiResults={showAiResults}\r\n            onClearAIResults={clearAIResults}\r\n            onRemoveAICard={removeAICard}\r\n          />\r\n        )}\r\n        \r\n        \r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction App() {\r\n  return (\r\n    <NotificationProvider>\r\n      <QuickDiffApp />\r\n    </NotificationProvider>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}